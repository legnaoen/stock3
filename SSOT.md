# SSOT â€“ ì£¼ì‹ ì‹œìž¥ ë°ì´í„° ìžë™ ë¶„ì„Â·ì¶”ì²œ ì‹œìŠ¤í…œ

> **[ì¤‘ìš”] ì´ ë¬¸ì„œëŠ” í•­ìƒ ì‹œìŠ¤í…œ ëª…ë ¹ì–´ `date "+%Y-%m-%d"`ë¡œ ì˜¤ëŠ˜ ë‚ ì§œë¥¼ í™•ì¸í•˜ì—¬ ê¸°ë¡/ê°±ì‹ í•©ë‹ˆë‹¤. (ìˆ˜ë™/ì¶”ë¡ /í•˜ë“œì½”ë”© ê¸ˆì§€)**

---
> **ðŸŽ¯ ì´ ë¬¸ì„œì˜ ëª©ì **: AIì™€ì˜ ë°”ì´ë¸Œì½”ë”©ì—ì„œ ë§¥ë½ ìœ ì§€, ë¶ˆí•„ìš”í•œ ì½”ë“œ ìž¬ìž‘ì„± ë°©ì§€, ì•ˆì •ì  ê¸°ëŠ¥ ë³´í˜¸

## í”„ë¡œì íŠ¸ ê³„íš

### 1. ê³¼ì œëª…
- ì£¼ì‹ ì‹œìž¥ ë°ì´í„° ìžë™ ìˆ˜ì§‘Â·ë¶„ì„Â·ì¶”ì²œ ì‹œìŠ¤í…œ (MVP)
- (í™•ìž¥í˜• AI ê¸°ë°˜ íˆ¬ìž ë¦¬ì„œì¹˜ í”Œëž«í¼ ê¸°ì´ˆ êµ¬ì¶•)

### 2. ëª©í‘œ ë° ê°œìš”
- êµ­ë‚´ ì£¼ì‹ ì‹œìž¥ì˜ ëª¨ë“  ì¢…ëª©ì— ëŒ€í•œ ê°€ê²©, ê±°ëž˜ëŸ‰, ì—…ì¢…Â·í…Œë§ˆ, ìž¬ë¬´, ë‰´ìŠ¤ ë“± í•µì‹¬ ë°ì´í„°ë¥¼ ìžë™ìœ¼ë¡œ ìˆ˜ì§‘ ë° ê°€ê³µ
- ì—…ì¢…/í…Œë§ˆ íŠ¸ë Œë“œ, ì£¼ë„ì£¼, ì£¼ìš” ì´ìŠˆ, íˆ¬ìž ë§¤ë ¥ë„ ë“± ì‹¤ì „ íˆ¬ìž ì¸ì‚¬ì´íŠ¸ë¥¼ ìžë™ ë¦¬í¬íŠ¸ í˜•íƒœë¡œ ì œê³µ
- LLM ë“± AI ë¶„ì„ ì—°ê³„ ë° SaaS ì‚¬ì—…í™”ê°€ ê°€ëŠ¥í•œ ëª¨ë“ˆí˜• ë°ì´í„° ì¸í”„ë¼ ì„¤ê³„/êµ¬ì¶•

#### í•µì‹¬ ê°€ì¹˜
- ì‹¤ì „ íˆ¬ìž ìžë™í™” ë¦¬ì„œì¹˜: ì‹œìž¥ íë¦„ê³¼ ì¢…ëª© íŠ¹ì§•ì„ ìžë™ ë¶„ì„, íˆ¬ìž ì˜ì‚¬ê²°ì • ì •ë³´ ì‹ ì† ì œê³µ
- ë°ì´í„°/ë¶„ì„ API ê¸°ë°˜: ì™¸ë¶€ ì‹œìŠ¤í…œ/ì‚¬ìš©ìžì— API í˜•íƒœë¡œ ë°ì´í„°Â·ë¶„ì„ ê²°ê³¼ ì œê³µ
- ìœ ì—°í•œ í™•ìž¥ì„±: MVP ì´í›„ ë‹¨ê³„ì  ê¸°ëŠ¥ í™•ìž¥(ê°œì¸í™”, ì „ëžµ ë°±í…ŒìŠ¤íŠ¸, ì™¸ë¶€ ì—°ë™ ë“±)ì— ìµœì í™”ëœ êµ¬ì¡°

### 3. MVP ë‹¨ê³„ ì£¼ìš” ê¸°ëŠ¥ ë° êµ¬ì„±
- **DB ì¤‘ì‹¬ íŒŒì´í”„ë¼ì¸:** ëª¨ë“  ë°ì´í„°ëŠ” ì¦‰ì‹œ DBì— ì €ìž¥, ê° ëª¨ë“ˆì€ DBì—ì„œ ì½ê³  ê²°ê³¼ë„ DBì— ì €ìž¥
- **ë°ì´í„° ìˆ˜ì§‘:** ì¢…ëª©ì •ë³´, ì—…ì¢…/í…Œë§ˆ, ì‹œì„¸, ìž¬ë¬´, ë‰´ìŠ¤ ë“± ë‹¤ì–‘í•œ ì†ŒìŠ¤(PyKRX, DART, Selenium ë“±)ì—ì„œ ìžë™ ìˆ˜ì§‘
- **ë¶„ì„/ê°€ê³µ:** ì—…ì¢…/í…Œë§ˆë³„ ë“±ë½ë¥ , ì£¼ë„ì£¼ ì¶”ì¶œ, ì´ìŠˆ ë§¤í•‘/ìš”ì•½, íˆ¬ìžë§¤ë ¥ ì ìˆ˜í™” ë“±
- **LLM ì—°ë™:** DB ê¸°ë°˜ ì§ˆì˜ì‘ë‹µ, ë‰´ìŠ¤/ì´ìŠˆ ìš”ì•½, íˆ¬ìž ì¸ì‚¬ì´íŠ¸ ìžë™í™”
- **í™•ìž¥ì„±:** ê° ê¸°ëŠ¥ì€ ë…ë¦½ ëª¨ë“ˆ, DB ì¤‘ì‹¬, ìŠ¤ì¼€ì¤„ëŸ¬/ì»¨í…Œì´ë„ˆí™”, API ì œê³µ ë“±

## 1. í”„ë¡œì íŠ¸ ê°œìš”

- **ëª©ì :** êµ­ë‚´ ì£¼ì‹ ì‹œìž¥ì˜ ëª¨ë“  ì¢…ëª©ì— ëŒ€í•œ ê°€ê²©, ê±°ëž˜ëŸ‰, ì—…ì¢…Â·í…Œë§ˆ, ìž¬ë¬´, ë‰´ìŠ¤ ë“± í•µì‹¬ ë°ì´í„°ë¥¼ ìžë™ìœ¼ë¡œ ìˆ˜ì§‘Â·ê°€ê³µí•˜ê³ , ì‹¤ì „ íˆ¬ìžì— í•„ìš”í•œ ì¸ì‚¬ì´íŠ¸(ì—…ì¢…/í…Œë§ˆ íŠ¸ë Œë“œ, ì£¼ë„ì£¼, ì£¼ìš” ì´ìŠˆ, íˆ¬ìž ë§¤ë ¥ë„ ë“±)ë¥¼ ìžë™ ë¦¬í¬íŠ¸ í˜•íƒœë¡œ ì œê³µ
- **ë°°ê²½:** ë°ì´í„° ê¸°ë°˜ ì‹¤ì „ íˆ¬ìž ìžë™í™”, LLM ë“± AI ë¶„ì„ ì—°ê³„ ë° SaaS ì‚¬ì—…í™”ê¹Œì§€ í™•ìž¥ ê°€ëŠ¥í•œ ëª¨ë“ˆí˜• ë°ì´í„° ì¸í”„ë¼ êµ¬ì¶•
- **ì£¼ìš” ê¸°ëŠ¥:**
  1. DB ì¤‘ì‹¬ ë°ì´í„° ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸ (PyKRX, DART, Selenium ë“±)
  2. ì—…ì¢…/í…Œë§ˆ/ì£¼ë„ì£¼/ì´ìŠˆ/íˆ¬ìžë§¤ë ¥ë„ ë“± ìžë™ ë¶„ì„ ë° ì ìˆ˜í™”
  3. LLM ì—°ë™ ì§ˆì˜ì‘ë‹µ/ìžë™ ë¦¬í¬íŠ¸/ë‰´ìŠ¤ ìš”ì•½
  4. API/ì™¸ë¶€ ì—°ë™ ë° í™•ìž¥ì„± ì§€ì›
- **ì ìš© ë²”ìœ„:** êµ­ë‚´ ìƒìž¥ì£¼ì‹ ì „ì²´, ì‹¤ì „ íˆ¬ìžìž/ë¦¬ì„œì¹˜/AI ì„œë¹„ìŠ¤ ë“±
- **ì‹ ê²½ ì“¸ ì :** 
  - ëª¨ë“  ë°ì´í„°/ë¶„ì„ ê²°ê³¼ëŠ” ë°˜ë“œì‹œ DB(SSOT)ì— ì €ìž¥, ê° ëª¨ë“ˆì€ DBì—ì„œ ì½ê³  ê²°ê³¼ë„ DBì— ì €ìž¥
  - í¬ë¡¤ë§ ì†ŒìŠ¤(ë„¤ì´ë²„ ë“±) ë³€ê²½ì— ì·¨ì•½, ì£¼ê¸°ì  ëª¨ë‹ˆí„°ë§ ë° ìœ ì§€ë³´ìˆ˜ í•„ìš”
  - API/LLM ì‚¬ìš©ëŸ‰/ë¹„ìš© ê´€ë¦¬, ë°ì´í„° ì‹ ë¢°ë„ ê²€ì¦ ìžë™í™”
- **í˜‘ì—…ìž/ê´€ë¦¬ìž:** [ìž‘ì„±ìžëª…]

---

## 2. ë°”ì´ë¸Œ ì½”ë”© ìš´ì˜Â·ì‹¤í–‰ ì§€ì¹¨

1. ìž‘ì—…ì€ "ë¶€ë¶„ ìˆ˜ì •/ìµœì†Œ ë³€ê²½"ì„ ì›ì¹™ìœ¼ë¡œ í•œë‹¤. ì „ì²´ íŒŒì¼ ìž¬ìž‘ì„±ì€ ì˜ˆì™¸ì  ìƒí™©ë§Œ í—ˆìš©.
2. ìž‘ì—… ë²”ìœ„Â·ëª©ì Â·ì œì•½ì„ ë¨¼ì € ëª…í™•ížˆ í•œë‹¤.
3. í•„ìš”í•œ ì½”ë“œ/ì •ë³´ë§Œ ìž…ë ¥Â·ìˆ˜ì • ìš”ì²­í•œë‹¤.
4. ë¶ˆí•„ìš”í•œ ë°˜ë³µ, íƒìƒ‰, í¬ë§·íŒ…, ìžë™í™” ëª…ë ¹ì€ ìµœì†Œí™”í•œë‹¤.
5. ìž‘ì—… ì „í›„ì—ëŠ” SSOT(ì„¤ê³„/ìš´ì˜ ë¬¸ì„œ)ë¥¼ ë°˜ë“œì‹œ í™•ì¸Â·ê°±ì‹ í•œë‹¤.
6. AI ìž‘ì—… ê²°ê³¼ëŠ” í•­ìƒ ì§ì ‘ í™•ì¸Â·ê²€í† í•˜ê³ , ë¬¸ì œê°€ ìžˆìœ¼ë©´ ì¦‰ì‹œ ìˆ˜ì •Â·í”¼ë“œë°±í•œë‹¤.
7. ëª¨ë“  ìž‘ì—…/ìžë™í™”ëŠ” "ìµœì†Œ ìž…ë ¥, ìµœëŒ€ ëª…í™•ì„±" ì›ì¹™ì„ ë”°ë¥¸ë‹¤.
8. ì˜ˆì™¸ìƒí™©(ì „ì²´ ìž¬ìž‘ì„±, êµ¬ì¡° ë³€ê²½ ë“±)ì€ ë°˜ë“œì‹œ ì§ì ‘ í™•ì¸/ë™ì˜ í›„ ì§„í–‰í•œë‹¤.

---

## 3. ì§„í–‰ê´€ë¦¬/ë³€ê²½ ì´ë ¥

| ë‚ ì§œ       | ìž‘ì„±ìž      | ë³€ê²½ ë‚´ìš©           | ë¹„ê³                     |
| ---------- | ----------- | ------------------ | ----------------------- |
| 2025-06-12 | [ìž‘ì„±ìž]    | reference.md ê¸°ë°˜ ì‹¤ì „ SSOT ë°˜ì˜ | êµ¬ì¡°/ì£¼ìš” ë‚´ìš© ì‹¤ì „í™”  |
| 2025-06-17 | [ìž‘ì„±ìž]    | ì—…ì¢…/í…Œë§ˆ ë“±ë½ë¥  ê³„ì‚° ë¡œì§ ë³€ê²½ | ì—…ì¢… 100%, í…Œë§ˆ 662ì¢…ëª© ë§¤í•‘, ë‚ ì§œë³„ ì´ë ¥í™” |
| 2025-06-17 | [ìž‘ì„±ìž]    | í…Œë§ˆ/ì—…ì¢… ìƒì„¸ íŽ˜ì´ì§€ êµ¬í˜„ | ê°œë³„ ì¢…ëª© ë¦¬ìŠ¤íŠ¸ì™€ ë“±ë½ë¥  í™•ì¸ ê¸°ëŠ¥ ì¶”ê°€ |
| 2025-06-17 | [ìž‘ì„±ìž]    | í…Œë§ˆ ë“±ë½ë¥  ê³„ì‚° ë°©ì‹ ë³€ê²½ | ë„¤ì´ë²„ í…Œë§ˆ ì§€ìˆ˜ì™€ì˜ ì •í•©ì„± ê°œì„  |
| 2025-06-18 | [ìž‘ì„±ìž]    | krx_collector.py fill_missing_history() ê³¼ê±° ì‹œì„¸ ë°±í•„ ê¸°ëŠ¥ ì‹¤ì „ ì ìš©, íŒŒìƒì§€í‘œ(60ì¼ ì €ì , 5ì¼ í‰ê·  ê±°ëž˜ëŒ€ê¸ˆ) ë³´ì¶©, ì•ˆì „ìž¥ì¹˜/ì˜ˆì™¸ì²˜ë¦¬/ìš´ì˜ ì´ë ¥ ìƒì„¸í™” | ì‹¤ì „ ë°ì´í„° ìžë™í™”/ë¶„ì„ íŒŒì´í”„ë¼ì¸ í™•ìž¥, ìš´ì˜ ì•ˆì „ì„± ê°•í™” |
| 2025-06-18 | [ìž‘ì„±ìž]    | UI/ì°¨íŠ¸/ìƒì„¸íŽ˜ì´ì§€ ê°œì„ : ì—…ì¢…/í…Œë§ˆ ë“±ë½ë¥  ì—°ë™, ì¢…ëª©ìƒì„¸ ë‚´ë¶€ë§í¬, ìº”ë“¤ì°¨íŠ¸ í•œêµ­ì‹ ì»¬ëŸ¬ ë“± ìµœì‹ í™” | ì‹¤ì „ ìš´ì˜/UX ê°œì„  |
| 2025-06-18 | [ìž‘ì„±ìž]    | Python import ì˜¤ë¥˜ í•´ê²°: UI(app.py) ë“± ëª¨ë“  ì‹¤í–‰ì€ ë°˜ë“œì‹œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ `python -m src.ui.app` ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰, sys.path ë° from src.xxx import íŒ¨í„´ ê³µì‹í™”. ë‰´ìŠ¤í¬ë¡¤ëŸ¬-UI ì—°ë™ ì •ìƒí™”. | ìš´ì˜/ì‹¤í–‰ í‘œì¤€ SSOT ë°˜ì˜ |
| 2025-06-18 | [ìž‘ì„±ìž]    | ë„¤ì´ë²„ ê¸ˆìœµ ìž¬ë¬´ì •ë³´ í¬ë¡¤ëŸ¬ ê°œì„ : ì—°ê°„/ë¶„ê¸° ë°ì´í„° ì •í™•í•œ êµ¬ë¶„ ì²˜ë¦¬. ë°°ë‹¹ê¸ˆ, ë§¤ì¶œì•¡, ì˜ì—…ì´ìµ ë“± ì£¼ìš” ìž¬ë¬´ì§€í‘œ ëª¨ë‘ ì •ìƒ ìˆ˜ì§‘. ì˜ˆìƒì¹˜(E) ë°ì´í„°ë„ ì •í™•í•˜ê²Œ êµ¬ë¶„í•˜ì—¬ ì €ìž¥. | ìž¬ë¬´ì •ë³´ ë°ì´í„° í’ˆì§ˆ ê°œì„  |
| 2025-06-18 | [ìž‘ì„±ìž]    | ìž¬ë¬´ì œí‘œ ë¶„ì„ê¸°(FinancialStatementAnalyzer) êµ¬í˜„: ì„±ìž¥ì„±, ìˆ˜ìµì„±, ì•ˆì •ì„±, ì‹œìž¥ê°€ì¹˜ 4ê°œ ì˜ì—­ í‰ê°€ ë° ì ìˆ˜í™”. ì‚¼ì„±ì „ìž ë“± ì‹¤ì œ ì¢…ëª© í…ŒìŠ¤íŠ¸ ì™„ë£Œ. ë¶„ì„ ê²°ê³¼ëŠ” financial_evaluation í…Œì´ë¸”ì— ì €ìž¥. | ìž¬ë¬´ì œí‘œ ê¸°ë°˜ ì¢…ëª© í‰ê°€ ìžë™í™” |
| 2025-06-19 | [ìž‘ì„±ìž]    | ìž¬ë¬´ì •ë³´ ìˆ˜ë™ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥ ì¶”ê°€: ì¢…ëª© ìƒì„¸ íŽ˜ì´ì§€ì— ìž¬ë¬´ì •ë³´ ì—…ë°ì´íŠ¸ ë²„íŠ¼ ì¶”ê°€. ë°±ì—”ë“œ API ì—”ë“œí¬ì¸íŠ¸(/api/v1/update_financial) êµ¬í˜„. | ìž¬ë¬´ì •ë³´ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì§€ì› |
| 2025-06-21 | [ìž‘ì„±ìž]    | ëª¨ë©˜í…€ ë¶„ì„ ì‹œìŠ¤í…œ ê³ ë„í™” (1ë‹¨ê³„): ë°ì´í„° íŒŒì´í”„ë¼ì¸ ì •ë¹„ ë° RSI ì§€í‘œ ì¶”ê°€. | ë¶„ì„ì˜ ì‹ ë¢°ì„± í™•ë³´ |
| 2025-06-21 | [ìž‘ì„±ìž]    | ëª¨ë©˜í…€ ë¶„ì„ ì‹œìŠ¤í…œ ê³ ë„í™” (2ë‹¨ê³„): íˆ¬ìž ì˜ê²¬ ë¶„ì„ê¸°(`investment_analyzer.py`) ì‹ ì„¤ ë° íˆ¬ìž ì˜ê²¬ ìžë™ ìƒì„±. | ë¶„ì„ ì‹œìŠ¤í…œì˜ ëª¨ë“ˆí™” ë° ìžë™í™” |
| 2025-06-21 | [ìž‘ì„±ìž]    | ì£¼ë„ì£¼ ì„ ì • ì•Œê³ ë¦¬ì¦˜ ê°œì„ : ë‹¤ì–‘í•œ ì˜ˆì™¸ ì¼€ì´ìŠ¤(ê±°ëž˜ëŒ€ê¸ˆ, ë“±ë½ë¥ )ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ í•˜ì´ë¸Œë¦¬ë“œ ë¡œì§ ì ìš©. ì¤‘ì•™ê°’(Median) ê¸°ë°˜ í•„í„°ë§ê³¼ ì•ˆì „ìž¥ì¹˜(ìƒìŠ¹ë¥  1ìœ„ ê°•ì œ ì§€ì •) ì¶”ê°€. | ì£¼ë„ì£¼ ë¶„ì„ì˜ ì •í™•ì„± ë° ì•ˆì •ì„± ëŒ€í­ í–¥ìƒ |
| 2025-06-21 | [ìž‘ì„±ìž]    | ì—…ì¢…&í…Œë§ˆ(í˜¼í•©) íƒ­ ì¢…í•©ì ìˆ˜/ì˜ê²¬ í‘œì‹œ ì˜¤ë¥˜ ì§„ë‹¨ ë° í•´ê²°: ë°±ì—”ë“œ row ì¸ë±ìŠ¤/í”„ë¡ íŠ¸ ë³€í™˜/ì‹¤ë°ì´í„° ë¡œê·¸ ì ê²€, ì •ìƒí™” í™•ì¸. ì‹œê°€ì´ì•¡ ëˆ„ë½ë¶„ pykrxë¡œ ë³´ì¶©, ì§‘ê³„ í…Œì´ë¸” ì „ì²´ ìž¬ìƒì„±, ëª¨ë©˜í…€/ì§€í‘œ ë¶„ì„ ê²°ê³¼ ì •ìƒí™”. ì „ì²´ íŒŒì´í”„ë¼ì¸(ë§ˆìŠ¤í„°â†’ì§‘ê³„â†’ë¶„ì„â†’UI) ì ê²€ ë° SSOT ìµœì‹ í™”. | ì‹¤ì „ ë°ì´í„° í’ˆì§ˆ/ë¶„ì„/í”„ë¡ íŠ¸ ì—°ë™ ì™„ì „ ì •ìƒí™” |

---

## 4. ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜

### 4.1 ë°±ì—”ë“œ
- **ì–¸ì–´**: Python
- **í”„ë ˆìž„ì›Œí¬**: FastAPI (API), Airflow/Prefect (ìŠ¤ì¼€ì¤„ëŸ¬)
- **ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬**:
  - PyKRX: ì£¼ì‹ ì‹œì„¸/ê¸°ë³¸ì •ë³´ ìˆ˜ì§‘
  - requests, selenium: í¬ë¡¤ë§/ETL
  - SQLAlchemy/psycopg2: DB ORM/ì—°ê²°
  - pydantic: ë°ì´í„° ê²€ì¦
  - openai/gemini: LLM ì—°ë™

### 4.2 í”„ë¡ íŠ¸ì—”ë“œ
- (MVP ë‹¨ê³„ ì—†ìŒ, ì¶”í›„ í™•ìž¥)

### 4.3 íŒŒì¼ êµ¬ì¡°
```
stock-analytics/
â”œâ”€â”€ config/                  # í™˜ê²½ì„¤ì •(í† í°/API/DB ë“±)
â”œâ”€â”€ data/                    # ì›ë³¸/ìƒ˜í”Œ/ìž„ì‹œ ë°ì´í„°
â”œâ”€â”€ db/                      # DB ìŠ¤í‚¤ë§ˆ, ë§ˆì´ê·¸ë ˆì´ì…˜, ì¿¼ë¦¬
â”œâ”€â”€ scripts/                 # ë‹¨ë… ì‹¤í–‰/ìœ í‹¸/í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py              # ë©”ì¸ íŒŒì´í”„ë¼ì¸
â”‚   â”œâ”€â”€ collector/           # ë°ì´í„° ìˆ˜ì§‘/í¬ë¡¤ëŸ¬/ETL
â”‚   â”œâ”€â”€ processor/           # ë°ì´í„° ì •ì œ/ê°€ê³µ/ë§¤í•‘
â”‚   â”œâ”€â”€ analyzer/            # ì •ëŸ‰/ì •ì„± ë¶„ì„, ì ìˆ˜í™”, ëž­í‚¹
â”‚   â”œâ”€â”€ llm/                 # LLM(ì§ˆì˜ì‘ë‹µ/ìžë™ ë¦¬í¬íŠ¸)
â”‚   â”œâ”€â”€ api/                 # API ì„œë²„
â”‚   â””â”€â”€ utils/               # ê³µí†µ í•¨ìˆ˜/ë¡œê¹…/ìœ í‹¸
â”œâ”€â”€ tests/                   # ìœ ë‹›/í†µí•© í…ŒìŠ¤íŠ¸
â”œâ”€â”€ docker/                  # ì»¨í…Œì´ë„ˆ/ë°°í¬ ê´€ë ¨
â”œâ”€â”€ airflow/                 # ì›Œí¬í”Œë¡œ/ìŠ¤ì¼€ì¤„ëŸ¬ ê´€ë¦¬
â”œâ”€â”€ docs/                    # ë¬¸ì„œ(ERD, API, ì•Œê³ ë¦¬ì¦˜ ë“±)
â”œâ”€â”€ .env                     # í™˜ê²½ë³€ìˆ˜
â”œâ”€â”€ requirements.txt         # ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ëª©ë¡
â””â”€â”€ README.md                # ìµœìƒìœ„ ì„¤ëª…ì„œ
```

### 4.4 ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬
- Python íƒ€ìž…ížŒíŠ¸, mypy, flake8, black ë“± ì ìš©
- DB ìŠ¤í‚¤ë§ˆ/ERD/ë¬¸ì„œí™” í•„ìˆ˜, í…ŒìŠ¤íŠ¸ ì½”ë“œ ë¶„ë¦¬
- ëŒ€ëŸ‰ ë°ì´í„° ì¸ë±ì‹±/íŒŒí‹°ì…”ë‹ ë“± ì„±ëŠ¥ ìµœì í™”

### 4.x ìš´ì˜/ì‹¤í–‰ í‘œì¤€ (Python import/ì‹¤í–‰)

- ëª¨ë“  íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸/ì„œë²„ ì‹¤í–‰ì€ ë°˜ë“œì‹œ í”„ë¡œì íŠ¸ ë£¨íŠ¸(ì˜ˆ: stock-3)ì—ì„œ ì•„ëž˜ì™€ ê°™ì´ ì‹¤í–‰í•œë‹¤:
  - `python -m src.ui.app` (Flask UI)
  - `python -m src.main` (ë©”ì¸ íŒŒì´í”„ë¼ì¸ ë“±)
- importëŠ” í•­ìƒ `from src.xxx` íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤. (ìƒëŒ€ import, í˜¼ìš© ê¸ˆì§€)
- src/ui/app.py ë“± ìŠ¤í¬ë¦½íŠ¸ ìƒë‹¨ì—ëŠ” ì•„ëž˜ ì½”ë“œë¡œ sys.pathë¥¼ íŒ¨ì¹˜í•œë‹¤:
  ```python
  import sys, os
  sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), '../')))
  ```
- (ì°¸ê³ ) `python src/ui/app.py` ë“± í•˜ìœ„ í´ë”ì—ì„œ ì§ì ‘ ì‹¤í–‰ ì‹œ import ì˜¤ë¥˜ ë°œìƒí•˜ë¯€ë¡œ ê¸ˆì§€
- ë‰´ìŠ¤í¬ë¡¤ëŸ¬ ë“± ê¸°ì¡´ ëª¨ë“ˆì„ UI/ì„œë²„ì— ì—°ë™í•  ë•Œë„ ìœ„ í‘œì¤€ì„ ë°˜ë“œì‹œ ë”°ë¥¸ë‹¤
- ë³¸ í‘œì¤€ì€ ì‹¤ì „ ìš´ì˜/í…ŒìŠ¤íŠ¸/ë°°í¬ í™˜ê²½ì—ì„œ ì¼ê´€ì„±, ìœ ì§€ë³´ìˆ˜ì„±, í˜‘ì—… íš¨ìœ¨ì„ ë³´ìž¥í•˜ê¸° ìœ„í•¨

---

## 5. í•µì‹¬ ì„¤ê³„ ê²°ì •ì‚¬í•­

### 5.1 DB ì¤‘ì‹¬ SSOT êµ¬ì¡°
- **ê²°ì •ë‚´ìš©**: ëª¨ë“  ë°ì´í„°/ë¶„ì„/ê²°ê³¼ëŠ” ë°˜ë“œì‹œ DB(ê´€ê³„í˜•, PostgreSQL ê¶Œìž¥)ì— ì €ìž¥, ê° ëª¨ë“ˆì€ DBì—ì„œ ì½ê³  ê²°ê³¼ë„ DBì— ì €ìž¥
- **ì´ìœ **: ëª¨ë“ˆ ë…ë¦½ì„±, í™•ìž¥ì„±, ìœ ì§€ë³´ìˆ˜, API/LLM ì—°ë™ ë“± ìœ ì—°ì„± í™•ë³´
- **ì˜í–¥**: ê° ê¸°ëŠ¥/ë¶„ì„/ë¦¬í¬íŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œÂ·ìš´ì˜Â·í™•ìž¥ ê°€ëŠ¥, ë°ì´í„° ì‹ ë¢°ì„±/ì¼ê´€ì„± ë³´ìž¥

### 5.2 ëª¨ë“ˆí™”/ì»¨í…Œì´ë„ˆí™”/ìŠ¤ì¼€ì¤„ëŸ¬ ê¸°ë°˜
- **ê²°ì •ë‚´ìš©**: ë°ì´í„° ìˆ˜ì§‘, ì •ì œ, ë¶„ì„, ë¦¬í¬íŠ¸, LLM ì—°ë™ ë“± ê° ê¸°ëŠ¥ì„ ë…ë¦½ íŒŒì´ì¬ ëª¨ë“ˆ/ì»¨í…Œì´ë„ˆë¡œ ë¶„ë¦¬, Airflow/Prefect ë“±ìœ¼ë¡œ ìžë™í™”
- **ì´ìœ **: ìœ ì§€ë³´ìˆ˜/í™•ìž¥/ë°°í¬/ìš´ì˜ ìžë™í™” ìš©ì´
- **ì˜í–¥**: ì‹ ê·œ ê¸°ëŠ¥ ì¶”ê°€/ë³€ê²½/ë¡¤ë°±/í…ŒìŠ¤íŠ¸ê°€ ì‰½ê³ , ì‹¤ì „ ìš´ì˜ì— ê°•í•¨

### 5.3 í¬ë¡¤ë§/ì™¸ë¶€ API ì˜ì¡´ì„± ê´€ë¦¬
- **ê²°ì •ë‚´ìš©**: Selenium ë“± í¬ë¡¤ë§ì€ ì›¹ì‚¬ì´íŠ¸ ë³€ê²½ì— ì·¨ì•½, ì£¼ê¸°ì  ëª¨ë‹ˆí„°ë§ ë° ëŒ€ì²´ ì†ŒìŠ¤(ìœ ë£Œ API ë“±) ë¡œë“œë§µ í¬í•¨
- **ì´ìœ **: ë°ì´í„° ì‹ ë¢°ì„±/ì§€ì†ì„± í™•ë³´
- **ì˜í–¥**: í¬ë¡¤ëŸ¬ ìœ ì§€ë³´ìˆ˜, API ì „í™˜ ë“± ìœ ì—°í•œ êµ¬ì¡° í•„ìš”

### 5.4 ë‰´ìŠ¤/ì´ìŠˆ ë°ì´í„° ê´€ë¦¬ êµ¬ì¡°
- **ê²°ì •ë‚´ìš©**: ì¢…ëª©/í…Œë§ˆë³„ ë‰´ìŠ¤/ì´ìŠˆ ë°ì´í„°ëŠ” ë§ˆìŠ¤í„° í…Œì´ë¸”(Stocks, Themes ë“±)ì— ì»¬ëŸ¼ ì¶”ê°€ê°€ ì•„ë‹ˆë¼, ë³„ë„ì˜ NewsArticles(ë‰´ìŠ¤ ë§ˆìŠ¤í„°), ArticleStockMap(ë‰´ìŠ¤-ì¢…ëª© ë§¤í•‘), ArticleThemeMap(ë‰´ìŠ¤-í…Œë§ˆ ë§¤í•‘) í…Œì´ë¸”ë¡œ ë¶„ë¦¬ ê´€ë¦¬
- **ì´ìœ **: ë‰´ìŠ¤ ë°ì´í„°ëŠ” ì–‘ì´ ë§Žê³ , ì¢…ëª©/í…Œë§ˆì™€ 1:N, N:M ê´€ê³„(í•œ ë‰´ìŠ¤ê°€ ì—¬ëŸ¬ ì¢…ëª©/í…Œë§ˆì— ë§¤í•‘ë  ìˆ˜ ìžˆìŒ). ë³„ë„ í…Œì´ë¸”ë¡œ ê´€ë¦¬í•´ì•¼ í™•ìž¥ì„±, ì„±ëŠ¥, ë¶„ì„/ê²€ìƒ‰/LLM ì—°ë™, ì´ë ¥ê´€ë¦¬, ìœ ì§€ë³´ìˆ˜ ëª¨ë‘ì— ìµœì í™”ë¨
- **ì˜í–¥**: ë‰´ìŠ¤/ì´ìŠˆ í¬ë¡¤ëŸ¬, ë¶„ì„, LLM, ë¦¬í¬íŠ¸ ë“± ì „ì²´ íŒŒì´í”„ë¼ì¸ì—ì„œ ìœ ì—°í•˜ê²Œ í™œìš© ê°€ëŠ¥. SSOT/DB/í¬ë¡¤ëŸ¬/ë¶„ì„/ë¦¬í¬íŠ¸ ë“± ì „ì²´ êµ¬ì¡°ì— ì¼ê´€ ì ìš©

### 5.5 í…Œë§ˆ/ì—…ì¢… ìƒì„¸ ë¶„ì„ êµ¬ì¡°
- **ê²°ì •ë‚´ìš©**: í…Œë§ˆ/ì—…ì¢…ë³„ ìƒì„¸ íŽ˜ì´ì§€ì—ì„œ ì†Œì† ì¢…ëª© ë¦¬ìŠ¤íŠ¸ì™€ ê°œë³„ ë“±ë½ë¥ ì„ í™•ì¸í•  ìˆ˜ ìžˆë„ë¡ êµ¬í˜„. ì‹œê°€ì´ì•¡ ê°€ì¤‘í‰ê·  ë“±ë½ë¥  ê³„ì‚°ì˜ ì •í™•ì„± ê²€ì¦ì„ ìœ„í•œ ê¸°ë°˜ ë§ˆë ¨.
- **êµ¬í˜„ë‚´ìš©**:
  1. ë°±ì—”ë“œ:
     - `sector_detail_analyzer.py`: í…Œë§ˆ/ì—…ì¢…ë³„ ìƒì„¸ ì •ë³´ì™€ ì¢…ëª© ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
     - `sector_api.py`: REST API ì—”ë“œí¬ì¸íŠ¸ ì œê³µ
  2. í”„ë¡ íŠ¸ì—”ë“œ:
     - `sector_detail.html`: ìƒì„¸ ì •ë³´ í‘œì‹œ íŽ˜ì´ì§€
     - DataTables ê¸°ë°˜ì˜ ì¢…ëª© ë¦¬ìŠ¤íŠ¸ (ë“±ë½ë¥  ê¸°ì¤€ ì •ë ¬)
     - ì¢…ëª©ë³„ ë„¤ì´ë²„ ê¸ˆìœµ ë§í¬ ì—°ë™
- **ì´ìœ **: í…Œë§ˆ/ì—…ì¢… ë“±ë½ë¥  ê³„ì‚°ì˜ ì •í™•ì„± ê²€ì¦ ë° ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ í•„ìš”
- **ì˜í–¥**: ë“±ë½ë¥  ê³„ì‚° ì˜¤ì°¨ ë°œê²¬ ì‹œ ì¦‰ê°ì ì¸ ì›ì¸ íŒŒì•… ë° ìˆ˜ì • ê°€ëŠ¥

### 5.6 ìž¬ë¬´ì œí‘œ ë¶„ì„ê¸° ì„¤ê³„
- **ê²°ì •ë‚´ìš©**: ìž¬ë¬´ì œí‘œ ë¶„ì„ê¸°(FinancialStatementAnalyzer)ë¥¼ í†µí•´ ì¢…ëª©ë³„ íˆ¬ìž ë§¤ë ¥ë„ë¥¼ 4ê°œ ì˜ì—­(ì„±ìž¥ì„±, ìˆ˜ìµì„±, ì•ˆì •ì„±, ì‹œìž¥ê°€ì¹˜)ìœ¼ë¡œ í‰ê°€í•˜ê³  ì ìˆ˜í™”
- **êµ¬í˜„ë‚´ìš©**:
  1. í‰ê°€ ì˜ì—­ ë° ì§€í‘œ:
     - ì„±ìž¥ì„±: ë§¤ì¶œì•¡ ì„±ìž¥ë¥ , ì˜ì—…ì´ìµ ì„±ìž¥ë¥ , ìˆœì´ìµ ì„±ìž¥ë¥ 
     - ìˆ˜ìµì„±: ì˜ì—…ì´ìµë¥ , ìˆœì´ìµë¥ , ROE
     - ì•ˆì •ì„±: ë¶€ì±„ë¹„ìœ¨, ìœ ë™ë¹„ìœ¨, ë‹¹ì¢Œë¹„ìœ¨
     - ì‹œìž¥ê°€ì¹˜: PER, PBR, ë°°ë‹¹ìˆ˜ìµë¥ 
  2. ë°ì´í„°ë² ì´ìŠ¤:
     - financial_evaluation í…Œì´ë¸”ì— í‰ê°€ ê²°ê³¼ ì €ìž¥
     - ê° ì˜ì—­ë³„ ì ìˆ˜(0~5ì )ì™€ ì¢…í•© ì˜ê²¬ ê¸°ë¡
  3. ë¶„ì„ ë¡œì§:
     - ê° ì§€í‘œë³„ ì‚°ì—… í‰ê·  ëŒ€ë¹„ ìƒëŒ€ í‰ê°€
     - ì‹œê³„ì—´ ì¶”ì„¸ ë¶„ì„ìœ¼ë¡œ ê°œì„ /ì•…í™” ì—¬ë¶€ íŒë‹¨
     - ê°€ì¤‘ì¹˜ ê¸°ë°˜ ì¢…í•© ì ìˆ˜ ì‚°ì¶œ
- **ì´ìœ **: ê°ê´€ì ì´ê³  ì¼ê´€ëœ ê¸°ì¤€ìœ¼ë¡œ ì¢…ëª©ì˜ ìž¬ë¬´ì  ê±´ì „ì„±ê³¼ íˆ¬ìž ë§¤ë ¥ë„ë¥¼ í‰ê°€í•˜ê¸° ìœ„í•¨
- **ì˜í–¥**: 
  1. ì¢…ëª© ìŠ¤í¬ë¦¬ë‹ ë° í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„±ì˜ ê¸°ì´ˆ ë°ì´í„°ë¡œ í™œìš©
  2. LLM ê¸°ë°˜ íˆ¬ìž ë¶„ì„/ì¶”ì²œ ì‹œìŠ¤í…œì˜ í•µì‹¬ ìž…ë ¥ê°’ìœ¼ë¡œ ì‚¬ìš©
  3. ì •ëŸ‰ì  í‰ê°€ ê²°ê³¼ë¥¼ í†µí•œ íˆ¬ìž ì˜ì‚¬ê²°ì • ì§€ì›

### 5.7 ìž¬ë¬´ì •ë³´ ìˆ˜ë™ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥
- **ê²°ì •ë‚´ìš©**: ì¢…ëª© ìƒì„¸ íŽ˜ì´ì§€ì—ì„œ ìž¬ë¬´ì •ë³´ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìžˆëŠ” ê¸°ëŠ¥ ì¶”ê°€
- **êµ¬í˜„ë‚´ìš©**:
  1. ë°±ì—”ë“œ:
     - `/api/v1/update_financial` ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
     - ë„¤ì´ë²„ ê¸ˆìœµ í¬ë¡¤ëŸ¬ë¥¼ í†µí•œ ìµœì‹  ìž¬ë¬´ì •ë³´ ìˆ˜ì§‘
     - ìˆ˜ì§‘ëœ ë°ì´í„°ëŠ” financial_statements í…Œì´ë¸”ì— ì €ìž¥
  2. í”„ë¡ íŠ¸ì—”ë“œ:
     - ì¢…ëª© ìƒì„¸ íŽ˜ì´ì§€ì— 'ìž¬ë¬´ì •ë³´ ì—…ë°ì´íŠ¸' ë²„íŠ¼ ì¶”ê°€
     - AJAXë¥¼ í†µí•œ ë¹„ë™ê¸° ì—…ë°ì´íŠ¸ ì²˜ë¦¬
     - ì—…ë°ì´íŠ¸ ìƒíƒœ í‘œì‹œ (ë¡œë”©/ì„±ê³µ/ì‹¤íŒ¨)
- **ì´ìœ **: 
  1. ìž¬ë¬´ì •ë³´ì˜ ì‹¤ì‹œê°„ì„± í™•ë³´
  2. ì‚¬ìš©ìžê°€ í•„ìš”í•  ë•Œ ì¦‰ì‹œ ìµœì‹  ë°ì´í„° í™•ì¸ ê°€ëŠ¥
  3. ë°°ì¹˜ ìž‘ì—…ê³¼ ë³„ê°œë¡œ ê°œë³„ ì¢…ëª© ë°ì´í„° ê°±ì‹  ì§€ì›
- **ì˜í–¥**: 
  1. ìž¬ë¬´ì œí‘œ ë¶„ì„ì˜ ì •í™•ë„ í–¥ìƒ
  2. ì‚¬ìš©ìž ê²½í—˜ ê°œì„ 
  3. ì‹œìŠ¤í…œ ë¶€í•˜ ë¶„ì‚° (í•„ìš”í•œ ì¢…ëª©ë§Œ ì„ íƒì  ì—…ë°ì´íŠ¸)

### 5.8 ì£¼ë„ì£¼ ì„ ì • ì•Œê³ ë¦¬ì¦˜ ê³ ë„í™”
- **ê²°ì •ë‚´ìš©**: ê¸°ì¡´ì˜ ë‹¨ìˆœ ìƒìœ„ Nê°œ ë°©ì‹ì—ì„œ ë²—ì–´ë‚˜, ë‹¤ì–‘í•œ ì‹œìž¥ ìƒí™©ê³¼ ì˜ˆì™¸ ì¼€ì´ìŠ¤ì— ëŒ€ì‘í•  ìˆ˜ ìžˆëŠ” ì •êµí•œ í•˜ì´ë¸Œë¦¬ë“œ ì•Œê³ ë¦¬ì¦˜ì„ ë„ìž….
- **êµ¬í˜„ë‚´ìš©**: `src/analyzer/sector_theme_analyzer.py`ì˜ `_find_leading_stocks` í•¨ìˆ˜ì— ì ìš©.
  1.  **1ì°¨ í•„í„°ë§ (ê·œì¹™ í™•ìž¥)**:
      - **(ì¼ë°˜ ê·œì¹™)** `ë“±ë½ë¥  >= 5%` **AND** `ê±°ëž˜ëŒ€ê¸ˆ >= 30ì–µ`
      - **(ì˜ˆì™¸ ê·œì¹™)** **OR** `ë“±ë½ë¥  >= 20%` (ê±°ëž˜ëŒ€ê¸ˆì´ ë¶€ì¡±í•´ë„ í­ë“±ì£¼ëŠ” ì£¼ë„ì£¼ë¡œ ê°„ì£¼)
  2.  **2ì°¨ í•„í„°ë§ (ìƒëŒ€ ë¹„êµ ê¸°ì¤€ í˜„ì‹¤í™”)**:
      - ê·¸ë£¹ ë‚´ ì¢…ëª© ìˆ˜ê°€ ë§Žì„ ê²½ìš°, ì´ìƒì¹˜(outlier)ì— ê°•ê±´í•œ `ì¤‘ì•™ê°’(Median)`ì„ ê¸°ì¤€ìœ¼ë¡œ í•„í„°ë§ (`ê±°ëž˜ëŒ€ê¸ˆ > ê·¸ë£¹ ì¤‘ì•™ê°’ * 2`).
  3.  **ì•ˆì „ìž¥ì¹˜ (Fallback)**:
      - ìœ„ ëª¨ë“  ì¡°ê±´ì„ ì¶©ì¡±í•˜ëŠ” ì£¼ë„ì£¼ê°€ ì—†ì„ ê²½ìš°, ê·¸ë£¹ ë‚´ **ìƒìŠ¹ë¥  1ìœ„ ì¢…ëª©ì„ ë¬´ì¡°ê±´ ì£¼ë„ì£¼ë¡œ ì§€ì •**.
- **ì´ìœ **: ê±°ëž˜ëŒ€ê¸ˆì´ ì ì€ ì†Œì™¸ì£¼ ê¸‰ë“±, íŠ¹ì • ì¢…ëª©ìœ¼ë¡œ ê±°ëž˜ ì ë¦¼, ê°•ì„¸ í…Œë§ˆ ë‚´ ë‹¤ìˆ˜ ì¢…ëª© ë™ë°˜ ìƒìŠ¹ ë“± ë³µìž¡í•œ ì‹¤ì œ ì‹œìž¥ ìƒí™©ì„ ì •í™•í•˜ê²Œ ë°˜ì˜í•˜ê¸° ìœ„í•¨.
- **ì˜í–¥**: ì£¼ë„ì£¼ ë¶„ì„ì˜ ì‹ ë¢°ì„±ê³¼ ì•ˆì •ì„±ì´ ëŒ€í­ í–¥ìƒë˜ì—ˆìœ¼ë©°, ê±°ì˜ ëª¨ë“  ì˜ˆì™¸ ìƒí™©ì—ì„œ í•©ë¦¬ì ì¸ ì£¼ë„ì£¼ë¥¼ ì„ ì •í•  ìˆ˜ ìžˆê²Œ ë¨.

---

## ë‹¨ê³„ë³„ ì§„í–‰ê³„íš

### 1ë‹¨ê³„: ë°ì´í„° íŒŒì´í”„ë¼ì¸ êµ¬ì¶• (ê¸°ë°˜ ë‹¤ì§€ê¸°)
- **ëª©í‘œ:** í•µì‹¬ ë°ì´í„°(ì¢…ëª©, ì—…ì¢…, í…Œë§ˆ, ì‹œì„¸, ìž¬ë¬´, ë‰´ìŠ¤ ë“±)ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ìˆ˜ì§‘Â·DBì— ì €ìž¥, SSOT ì²´ê³„ í™•ë¦½
- **ì£¼ìš” ìž‘ì—…:**
  - DB ìŠ¤í‚¤ë§ˆ ì •ì˜ ë° ì´ˆê¸°í™” (Stocks, Industries, Themes, StockThemes, DailyStockPrices, FinancialStatements, NewsArticles ë“±)
  - PyKRX/DART/Selenium ê¸°ë°˜ ë°ì´í„° ìˆ˜ì§‘ ëª¨ë“ˆ ê°œë°œ ë° ìžë™í™”
- **í…ŒìŠ¤íŠ¸ ê³„íš:**
  - ê° í…Œì´ë¸”ë³„ ìƒ˜í”Œ ë°ì´í„° ì ìž¬ ë° ì¿¼ë¦¬ ì •ìƒ ë™ìž‘ í™•ì¸
  - ìˆ˜ì§‘ ëª¨ë“ˆë³„(ì¢…ëª©, ì‹œì„¸, ìž¬ë¬´, í…Œë§ˆ, ë‰´ìŠ¤) ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë° DB ì ìž¬ ê²°ê³¼ ê²€ì¦
  - ë°ì´í„° ëˆ„ë½/ì¤‘ë³µ/í˜•ì‹ ì˜¤ë¥˜ ìžë™ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

### 2ë‹¨ê³„: ë¶„ì„ ë¡œì§ ë° ìžë™ ë¦¬í¬íŠ¸ ìƒì„± (ê°€ì¹˜ ì°½ì¶œ)
- **ëª©í‘œ:** ìˆ˜ì§‘ ë°ì´í„° ê¸°ë°˜ ì—…ì¢…/í…Œë§ˆ íŠ¸ë Œë“œ, ì£¼ë„ì£¼, ì´ìŠˆ, íˆ¬ìžë§¤ë ¥ë„ ë“± ì‹¤ì „ ë¶„ì„ ë° ìžë™ ë¦¬í¬íŠ¸ êµ¬í˜„
- **ì£¼ìš” ìž‘ì—…:**
  - ì—…ì¢…/í…Œë§ˆë³„ ë“±ë½ë¥ Â·ê±°ëž˜ëŒ€ê¸ˆ ì§‘ê³„, ì£¼ë„ì£¼/ì´ìŠˆ ë§¤í•‘, íˆ¬ìžë§¤ë ¥ ì ìˆ˜í™” ë“± ë¶„ì„ ëª¨ë“ˆ ê°œë°œ
  - DailyIndustryTrends, DailyThemeTrends, DailyAnalysisResults ë“± ë¶„ì„ê²°ê³¼ DB ì €ìž¥
- **í…ŒìŠ¤íŠ¸ ê³„íš:**
  - ë¶„ì„ ëª¨ë“ˆë³„(íŠ¸ë Œë“œ, ì£¼ë„ì£¼, ì ìˆ˜í™” ë“±) ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë° ê²°ê³¼ DB ì ìž¬ ê²€ì¦
  - ìƒ˜í”Œ ë¦¬í¬íŠ¸ ìƒì„± ë° ì£¼ìš” ì§€í‘œ(ìƒìœ„ í…Œë§ˆ/ì£¼ë„ì£¼ ë“±) ìˆ˜ì¹˜ ê²€ì¦
  - ì—£ì§€ì¼€ì´ìŠ¤(ë°ì´í„° ê²°ì¸¡, ê¸‰ë“±ë½ ë“±) ì²˜ë¦¬ ê²€ì¦

### 3ë‹¨ê³„: LLM ì—°ë™ ë° ì„œë¹„ìŠ¤ êµ¬í˜„ (ì¸ì‚¬ì´íŠ¸ ì œê³µ)
- **ëª©í‘œ:** ë¶„ì„ ë°ì´í„° ê¸°ë°˜ LLM ì§ˆì˜ì‘ë‹µ, ìžë™ ë¦¬í¬íŠ¸, ì‚¬ìš©ìž ì¹œí™”ì  ì„œë¹„ìŠ¤ êµ¬í˜„
- **ì£¼ìš” ìž‘ì—…:**
  - LLM API ì—°ë™, í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿, ì§ˆì˜ì‘ë‹µ/ë¦¬í¬íŠ¸ ëª¨ë“ˆ ê°œë°œ
  - LLMInteractionLogs ë“± ìƒí˜¸ìž‘ìš© ë¡œê·¸ DBí™”, API ì„œë²„/ìŠ¤ì¼€ì¤„ëŸ¬/ë°°í¬ í™˜ê²½ êµ¬ì¶•
- **í…ŒìŠ¤íŠ¸ ê³„íš:**
  - LLM ì§ˆì˜ì‘ë‹µ(ì˜ˆì‹œ ì§ˆë¬¸)ë³„ ì‘ë‹µ í’ˆì§ˆ ë° ë°ì´í„° ì¼ì¹˜ì„± ê²€ì¦
  - LLM ìƒí˜¸ìž‘ìš© ë¡œê·¸ ê¸°ë¡ ë° ë¶„ì„
  - ì „ì²´ íŒŒì´í”„ë¼ì¸(ìˆ˜ì§‘â†’ë¶„ì„â†’LLM) ì—”ë“œ-íˆ¬-ì—”ë“œ í†µí•© í…ŒìŠ¤íŠ¸

---

## 11. AI í˜‘ì—… ê°€ì´ë“œë¼ì¸

### 11.1 ë§¤ ìž‘ì—… ì‹œìž‘ ì‹œ í™•ì¸ì‚¬í•­
```
í˜„ìž¬ ìƒíƒœ: [ì •ìƒ ìž‘ë™í•˜ëŠ” ê¸°ëŠ¥ë“¤ ë‚˜ì—´]
ìž‘ì—… ëª©í‘œ: [1ì¤„ë¡œ ì •í™•í•œ ëª©í‘œ ì •ì˜]
ìˆ˜ì • ê¸ˆì§€: [ê±´ë“œë¦¬ë©´ ì•ˆ ë˜ëŠ” ì½”ë“œ/íŒŒì¼ ëª…ì‹œ]
ì˜ˆìƒ ë³€ê²½: [ëª‡ ê°œ íŒŒì¼, ëª‡ ì¤„ ì •ë„]
íƒ€ìž… ì²´í¬: [TypeScript ì˜¤ë¥˜ ì—¬ë¶€ í™•ì¸]
ë¦°íŠ¸ ìƒíƒœ: [ESLint ê²½ê³ /ì˜¤ë¥˜ í™•ì¸]
```

### 11.2 ì ˆëŒ€ ê¸ˆì§€ í–‰ë™
- âŒ ì •ìƒ ìž‘ë™í•˜ëŠ” ì „ì²´ íŒŒì¼ ìž¬ìž‘ì„±
- âŒ ìš”ì²­í•˜ì§€ ì•Šì€ "ê°œì„ " ë˜ëŠ” "ìµœì í™”" ìž‘ì—…
- âŒ í…ŒìŠ¤íŠ¸ ì—†ëŠ” ì—¬ëŸ¬ íŒŒì¼ ë™ì‹œ ìˆ˜ì •
- âŒ 10.1 ì•ˆì •ì  ì½”ë“œ ì„¹ì…˜ì˜ í•¨ìˆ˜ ìˆ˜ì •
- âŒ íƒ€ìž… ì•ˆì „ì„±ì„ í•´ì¹˜ëŠ” `any` íƒ€ìž…ì˜ ë¬´ë¶„ë³„í•œ ì‚¬ìš©
- âŒ ESLint ê·œì¹™ ë¬´ì‹œ (íŠ¹ë³„í•œ ì´ìœ  ì—†ì´ disable í•˜ê¸°)
- âŒ React Hook ì˜ì¡´ì„± ê·œì¹™ ìœ„ë°˜

### 11.3 ê¶Œìž¥ ìž‘ì—… íŒ¨í„´
1. **ë‹¨ì¼ ì§‘ì¤‘**: ë¬¸ì œ 1ê°œ â†’ íŒŒì¼ 1ê°œ â†’ ìˆ˜ì • ì™„ë£Œ â†’ í…ŒìŠ¤íŠ¸
2. **ë„êµ¬ ìš°ì„ ìˆœìœ„**: edit_file ìš°ì„ , write_file ìµœì†Œí™”
3. **ë³€ê²½ ì¶”ì **: ìˆ˜ì • ì „í›„ ë¹„êµ ì„¤ëª… í•„ìˆ˜
4. **ìƒíƒœ ì—…ë°ì´íŠ¸**: ìž‘ì—… ì™„ë£Œ í›„ ì½”ë“œ ìƒíƒœ ë§µ ê°±ì‹ 
5. **íƒ€ìž… ì•ˆì „ì„±**: TypeScript ì˜¤ë¥˜ í•´ê²° ìš°ì„ 
6. **ì½”ë“œ í’ˆì§ˆ**: ESLint ê²½ê³  í•´ê²° ë° ìµœì í™”
7. **ì„±ëŠ¥ ê³ ë ¤**: Hook ì˜ì¡´ì„± ë° ë©”ëª¨ì´ì œì´ì…˜ ìµœì í™”

---

## 6. í˜„ìž¬ ìƒíƒœ ë° ì•Œë ¤ì§„ ì´ìŠˆ

### 6.1 âœ… ì™„ë£Œëœ ê¸°ëŠ¥
- ì—…ì¢…/í…Œë§ˆ ë“±ë½ë¥  ê³„ì‚° ë° ìƒì„¸ íŽ˜ì´ì§€ êµ¬í˜„ (2025-06-17)
- krx_collector.py ê³¼ê±° ì‹œì„¸ ë°±í•„ ë° íŒŒìƒì§€í‘œ ë³´ì¶© (2025-06-18)
- UI/ì°¨íŠ¸/ìƒì„¸íŽ˜ì´ì§€ ê°œì„  ë° Python import í‘œì¤€í™” (2025-06-18)
- ë„¤ì´ë²„ ê¸ˆìœµ ìž¬ë¬´ì •ë³´ í¬ë¡¤ëŸ¬ êµ¬í˜„ ë° ì—°ê°„/ë¶„ê¸° ë°ì´í„° ì •í™•í•œ êµ¬ë¶„ ì²˜ë¦¬ (2025-06-18)
  - ì—°ê°„/ë¶„ê¸° ë°ì´í„°ë¥¼ ì •í™•í•˜ê²Œ êµ¬ë¶„í•˜ì—¬ DBì— ì €ìž¥
  - ë°°ë‹¹ê¸ˆ, ë§¤ì¶œì•¡, ì˜ì—…ì´ìµ ë“± ì£¼ìš” ìž¬ë¬´ì§€í‘œ ëª¨ë‘ ì •ìƒ ìˆ˜ì§‘
  - ì˜ˆìƒì¹˜(E) ë°ì´í„°ë„ ì •í™•í•˜ê²Œ êµ¬ë¶„í•˜ì—¬ ì €ìž¥
  - financial_info í…Œì´ë¸”ì— period ì»¬ëŸ¼('Y'/'Q')ìœ¼ë¡œ ì—°ê°„/ë¶„ê¸° êµ¬ë¶„

### 6.2 ðŸ”„ ì§„í–‰ ì¤‘
- [ ] í…Œë§ˆ ì „ì²´ íŽ˜ì´ì§€ í™•ìž¥/ìµœì í™”(í•„ìš”ì‹œ)
- [ ] í…Œë§ˆ/ì—…ì¢…ë³„ ë³€í™” ì´ë ¥ ë¶„ì„ ë° ë¦¬í¬íŠ¸ ìžë™í™”

### 6.4 ðŸš¨ ì•Œë ¤ì§„ ì´ìŠˆ
- í…Œë§ˆì •ë³´ëŠ” ì¼ë¶€ ì¢…ëª©(662ê°œ)ì—ë§Œ ë§¤í•‘ë¨(ë„¤ì´ë²„ ì²« íŽ˜ì´ì§€ ê¸°ì¤€)
- StockThemes í…Œì´ë¸” êµ¬ì¡° ë³€ê²½ ì‹œ ê¸°ì¡´ DBì— ALTER TABLE í•„ìš”(íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì°¸ê³ )
- ë‰´ìŠ¤/ì´ìŠˆ ë°ì´í„°ëŠ” ë°˜ë“œì‹œ ë³„ë„ í…Œì´ë¸”(NewsArticles, ArticleStockMap, ArticleThemeMap)ë¡œ ê´€ë¦¬í•´ì•¼ í•¨(ë§ˆìŠ¤í„° í…Œì´ë¸” ì»¬ëŸ¼ ì¶”ê°€ ê¸ˆì§€, ì‹¤ì „ í™•ìž¥ì„±/ì„±ëŠ¥/ë¶„ì„/LLM ì—°ë™ ë“± ëª¨ë“  ì¸¡ë©´ì—ì„œ ê¶Œìž¥)

## 7.3 íŠ¸ëŸ¬ë¸”ìŠˆíŒ…/ìš´ì˜ê°€ì´ë“œ (ì¶”ê°€)
- StockThemes í…Œì´ë¸” êµ¬ì¡° ë³€ê²½(ì˜ˆ: collected_at ì»¬ëŸ¼ ì¶”ê°€) ì‹œ ê¸°ì¡´ DBì— ALTER TABLEë¡œ ì»¬ëŸ¼ ì¶”ê°€ í•„ìš”
- ì—…ì¢…/í…Œë§ˆ í¬ë¡¤ëŸ¬ ì‹¤í–‰ í›„ scripts/db_check.pyë¡œ ë§¤í•‘ í˜„í™©(ì´ ì¢…ëª©ìˆ˜, ì—…ì¢…/í…Œë§ˆ ë§¤í•‘ ì¢…ëª©ìˆ˜) ë°˜ë“œì‹œ ê²€ì¦
- í…Œë§ˆì •ë³´ëŠ” ë„¤ì´ë²„ ì²« íŽ˜ì´ì§€ë§Œ ìˆ˜ì§‘ ì‹œ ì¼ë¶€ ì¢…ëª©ë§Œ ë§¤í•‘ë¨. ì „ì²´ í…Œë§ˆ í™•ìž¥ í•„ìš”ì‹œ í¬ë¡¤ëŸ¬ ìˆ˜ì •

---

# ì—…ì¢…/í…Œë§ˆ ë“±ë½ë¥  ê³„ì‚° ë¡œì§ ë³€ê²½ (2025-06-17)

## ë³€ê²½ ë‚´ìš©
1. ì—…ì¢…/í…Œë§ˆ ë“±ë½ë¥  ê³„ì‚° ë¡œì§ì„ ì‹œê°€ì´ì•¡ ê°€ì¤‘í‰ê·  ë°©ì‹ìœ¼ë¡œ ë³€ê²½
   - ê¸°ì¡´: ë‹¨ìˆœ í‰ê·  ë°©ì‹
   - ë³€ê²½: `SUM(price_change_ratio * market_cap) / SUM(market_cap)`
   - ë„¤ì´ë²„ ê¸ˆìœµê³¼ ë™ì¼í•œ ê³„ì‚° ë°©ì‹ ì ìš©

2. ì½”ë“œ êµ¬ì¡° ê°œì„ 
   - `theme_industry_collector.py` ì œê±°
   - `sector_theme_analyzer.py`ë¡œ ê¸°ëŠ¥ í†µí•©
   - ì‹¤ì‹œê°„ ë¶„ì„ê³¼ DB ì €ìž¥ ê¸°ëŠ¥ì„ í•˜ë‚˜ì˜ ëª¨ë“ˆë¡œ í†µí•©
   - `save_to_db` íŒŒë¼ë¯¸í„°ë¡œ DB ì €ìž¥ ì—¬ë¶€ ì„ íƒ ê°€ëŠ¥

3. ì„±ê³¼ ë°ì´í„° ì €ìž¥ êµ¬ì¡°
   - DB: `theme_industry.db`
   - í…Œì´ë¸”:
     - `theme_daily_performance`: í…Œë§ˆë³„ ì¼ê°„ ì„±ê³¼
     - `industry_daily_performance`: ì—…ì¢…ë³„ ì¼ê°„ ì„±ê³¼
   - ì €ìž¥ ì •ë³´:
     - ì‹œê°€ì´ì•¡ ê°€ì¤‘í‰ê·  ë“±ë½ë¥ 
     - ê±°ëž˜ëŸ‰, ê±°ëž˜ëŒ€ê¸ˆ, ì‹œê°€ì´ì•¡ í•©ê³„
     - ìƒìŠ¹/í•˜ë½/ë³´í•© ì¢…ëª© ìˆ˜
     - ì‹œê°€ì´ì•¡ ìƒìœ„ 5ì¢…ëª©(ë¦¬ë”ì£¼)

## ì‹¤í–‰ ìˆœì„œ
1. `krx_collector.py` ì‹¤í–‰: ìµœì‹  ì£¼ê°€ ë°ì´í„° ìˆ˜ì§‘
2. `sector_theme_analyzer.py` ì‹¤í–‰: ì—…ì¢…/í…Œë§ˆë³„ ë“±ë½ë¥  ê³„ì‚° ë° ì €ìž¥

## ì‚¬ìš© ì˜ˆì‹œ
```python
# ì‹¤ì‹œê°„ ì¡°íšŒë§Œ í•  ê²½ìš°
results = get_industry_performance(date, save_to_db=False)

# DBì— ì €ìž¥í•˜ë©´ì„œ ì¡°íšŒí•  ê²½ìš°
results = get_industry_performance(date, save_to_db=True)

# ì¼ê°„ ì„±ê³¼ ì¼ê´„ ì—…ë°ì´íŠ¸
update_daily_performance(date)
```

## ì°¸ê³ ì‚¬í•­
- ì—…ì¢…/í…Œë§ˆë³„ ë“±ë½ë¥ ì€ ì‹œê°€ì´ì•¡ ê°€ì¤‘í‰ê· ìœ¼ë¡œ ê³„ì‚°
- ì—…ì¢…/í…Œë§ˆ ë‚´ ì¢…ëª©ë“¤ì˜ ì‹œê°€ì´ì•¡ì´ í´ìˆ˜ë¡ í•´ë‹¹ ì¢…ëª©ì˜ ë“±ë½ë¥ ì´ ë” í° ì˜í–¥ì„ ë¯¸ì¹¨
- ë„¤ì´ë²„ ê¸ˆìœµ ë“± ì‹œìž¥ í‘œì¤€ê³¼ ë™ì¼í•œ ê³„ì‚° ë°©ì‹ ì‚¬ìš©

---

## ë³€ê²½ ì´ë ¥

### 2025-06-17
- ì—…ì¢…ê³¼ í…Œë§ˆì˜ ë“±ë½ë¥  ìˆœìœ„ ì •ë³´ ì¶”ê°€
  - theme_daily_performanceì™€ industry_daily_performance í…Œì´ë¸”ì— rank ì»¬ëŸ¼ ì¶”ê°€
  - ë“±ë½ë¥  ê¸°ì¤€ìœ¼ë¡œ ìˆœìœ„ ìžë™ ê³„ì‚° ë° ì €ìž¥ ê¸°ëŠ¥ êµ¬í˜„
  - ì—…ì¢…ì€ ì‹œê°€ì´ì•¡ ê°€ì¤‘í‰ê·  ë“±ë½ë¥  ê¸°ì¤€, í…Œë§ˆëŠ” ë‹¨ìˆœí‰ê·  ë“±ë½ë¥  ê¸°ì¤€ìœ¼ë¡œ ìˆœìœ„ ì‚°ì¶œ
  - sector_theme_analyzer.pyì˜ get_industry_performance()ì™€ get_theme_performance() í•¨ìˆ˜ì— ìˆœìœ„ ê³„ì‚° ë¡œì§ ì¶”ê°€

### 2024-03-21 í…Œë§ˆ ë“±ë½ë¥  ê³„ì‚° ë°©ì‹ ë³€ê²½
- ë³€ê²½ ë‚´ìš©: í…Œë§ˆ ë“±ë½ë¥  ê³„ì‚°ì„ ì‹œê°€ì´ì•¡ ê°€ì¤‘í‰ê· ì—ì„œ ë‹¨ìˆœ í‰ê· ìœ¼ë¡œ ë³€ê²½
- ë³€ê²½ ì´ìœ : ë„¤ì´ë²„ í…Œë§ˆ ì§€ìˆ˜ì™€ì˜ ì •í•©ì„± ê°œì„ 
- ì˜í–¥ ë²”ìœ„: í…Œë§ˆ ë“±ë½ë¥  ê³„ì‚° ë¡œì§ë§Œ ë³€ê²½ (ì—…ì¢… ë“±ë½ë¥ ì€ ê¸°ì¡´ ë°©ì‹ ìœ ì§€)
- ê´€ë ¨ íŒŒì¼: src/analyzer/sector_theme_analyzer.py
- ì£¼ìš” ë³€ê²½ì‚¬í•­:
  * í…Œë§ˆ ë“±ë½ë¥ ì„ ë‹¨ìˆœ í‰ê· ìœ¼ë¡œ ê³„ì‚°í•˜ë„ë¡ ë³€ê²½
  * ê¸°ì¡´ ì‹œê°€ì´ì•¡ ê°€ì¤‘í‰ê· ì€ market_cap_weighted_ratio ì»¬ëŸ¼ìœ¼ë¡œ ë³´ì¡´ (ì°¸ê³ ìš©)
  * theme_daily_performance í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ìˆ˜ì •
  * ì •ë ¬ ê¸°ì¤€ì„ ë‹¨ìˆœ í‰ê·  ë“±ë½ë¥ ë¡œ ë³€ê²½

### 2025-06-18
- krx_collector.pyì— ê³¼ê±° ì¼ë³„ ì‹œì„¸ ëˆ„ë½ë¶„ì„ pykrxë¡œ ë³´ì¶©í•˜ëŠ” fill_missing_history() ê¸°ëŠ¥ ì¶”ê°€
  - ëª©ì : DailyStocks ë“± ë§ˆìŠ¤í„° DBì— 60ì¼ ë“± ê³¼ê±° ì‹œì„¸ ë°ì´í„°ê°€ ë¶€ì¡±í•  ë•Œ, pykrxë¡œ ëˆ„ë½ë¶„ë§Œ ì•ˆì „í•˜ê²Œ ë³´ì¶©
  - ì‚¬ìš©ë²•: `python src/collector/krx_collector.py --backfill` (í•„ìš”ì‹œ ìˆ˜ë™ ì‹¤í–‰)
  - ê¸°ì¡´ collector ë©”ì¸ ê¸°ëŠ¥ê³¼ ì™„ì „ížˆ ë¶„ë¦¬ë˜ì–´, í‰ì†Œì—ëŠ” ì˜í–¥ ì—†ìŒ
  - ì´ë¯¸ DBì— ìžˆëŠ” ë‚ ì§œ/ì¢…ëª© ë°ì´í„°ëŠ” ê±´ë„ˆëœ€(ì¤‘ë³µ ì €ìž¥ ë°©ì§€)
  - ì‹ ê·œ ìƒìž¥ì£¼ ë“± 60ì¼ ë¯¸ë§Œ ë°ì´í„°ëŠ” ì¡´ìž¬í•˜ëŠ” ë§Œí¼ë§Œ ì €ìž¥
  - pykrx í˜¸ì¶œ ì‹¤íŒ¨/ì¤‘ë‹¨ ì‹œì—ë„ ê¸°ì¡´ ë°ì´í„°ëŠ” ìœ ì§€ë¨
  - SSOT ë° ìš´ì˜ ë¬¸ì„œì— ì‚¬ìš©ë²•/ëª©ì /ì£¼ì˜ì‚¬í•­ ëª…í™•ížˆ ê¸°ë¡

---

# ê³¼ê±° ì‹œì„¸ ë°ì´í„° ë°±í•„ ë° íŒŒìƒì§€í‘œ ë³´ì¶© ê¸°ëŠ¥ (2025-06-18)

## ì£¼ìš” ë‚´ìš©
- `src/collector/krx_collector.py`ì— fill_missing_history() í•¨ìˆ˜ ì¶”ê°€, `--backfill` ì˜µì…˜ìœ¼ë¡œ ê³¼ê±° 60ì˜ì—…ì¼(ë˜ëŠ” ì§€ì • ë²”ìœ„) ëˆ„ë½ ì¼ë³„ ì‹œì„¸ë¥¼ pykrxë¡œ ì•ˆì „í•˜ê²Œ ë³´ì¶©
- ì‹ ê·œ ìƒìž¥ì£¼ ë“± 60ì¼ ë¯¸ë§Œ ë°ì´í„°ëŠ” ì¡´ìž¬í•˜ëŠ” ë§Œí¼ë§Œ ì €ìž¥, ì´ë¯¸ DBì— ìžˆëŠ” ë°ì´í„°ëŠ” ê±´ë„ˆëœ€(ì¤‘ë³µ ì €ìž¥/ì˜¤ì—¼ ë°©ì§€)
- ê±°ëž˜ëŒ€ê¸ˆ ì»¬ëŸ¼ëª… ì´ìŠˆ(ì˜ˆ: 'ê±°ëž˜ëŒ€ê¸ˆ', 'ê±°ëž˜ëŒ€ê¸ˆ(ë°±ë§Œ)', 'ê±°ëž˜ëŒ€ê¸ˆ(ì›)', 'ê±°ëž˜ëŒ€ê¸ˆ(ì²œì›)' ë“±) ë°œìƒ ì‹œ ë‹¤ì–‘í•œ ì»¬ëŸ¼ëª… ì²´í¬ ë° KeyError ì˜ˆì™¸ì²˜ë¦¬ë¡œ ì‹¤ì „ ìš´ì˜ ì•ˆì „ì„± í™•ë³´
- fill_missing_history()ëŠ” collector ë©”ì¸ ê¸°ëŠ¥ê³¼ ì™„ì „ížˆ ë¶„ë¦¬, ìµœì´ˆ 1íšŒ ë˜ëŠ” ëˆ„ë½ ë°œìƒ ì‹œì—ë§Œ ìˆ˜ë™ ì‹¤í–‰(ì¼ìƒì  ìžë™í™”ì™€ ë¶„ë¦¬)
- íŒŒìƒì§€í‘œ(60ì¼ ì €ì , 5ì¼ í‰ê·  ê±°ëž˜ëŒ€ê¸ˆ) ì‚°ì¶œ ë° ì €ì ë°˜ë“±ì£¼ ì¶”ì¶œ íŒŒì´í”„ë¼ì¸ê³¼ ì—°ë™, ì‹¤ì „ ë°ì´í„° í’ˆì§ˆ ë³´ìž¥
- pykrx í˜¸ì¶œ ì‹¤íŒ¨/ì¤‘ë‹¨ ì‹œì—ë„ ê¸°ì¡´ ë°ì´í„°ëŠ” ìœ ì§€, ë¶€ë¶„ ì„±ê³µ/ì‹¤íŒ¨ ëª¨ë‘ ë¡œê·¸ë¡œ ë‚¨ê¹€

## ì‚¬ìš©ë²•
- ê³¼ê±° ì‹œì„¸ ë°±í•„: `python src/collector/krx_collector.py --backfill`
- (ìµœì´ˆ 1íšŒ ë˜ëŠ” ëˆ„ë½ ë°œìƒ ì‹œì—ë§Œ ì‹¤í–‰, í‰ì†Œ collector ìžë™í™”ì™€ ë¶„ë¦¬)
- ì‹¤í–‰ ë¡œê·¸ì—ì„œ "XXê°œ ë‚ ì§œ ë³´ì¶© ì™„ë£Œ" ë“± ì •ìƒ ì²˜ë¦¬ ì—¬ë¶€ í™•ì¸
- ì˜ˆì™¸ ë°œìƒ ì‹œ KeyError ë“± ìƒì„¸ ë¡œê·¸ë¡œ ì›ì¸ íŒŒì•… ê°€ëŠ¥

## ì‹¤ì „ ìš´ì˜ ê°€ì´ë“œ/íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
- fill_missing_history() ì‹¤í–‰ ì „í›„ DB(íŠ¹ížˆ DailyStocks, íŒŒìƒì§€í‘œ í…Œì´ë¸”) ë°ì´í„° ì •ìƒ ì ìž¬ ì—¬ë¶€ í™•ì¸
- ê±°ëž˜ëŒ€ê¸ˆ ì»¬ëŸ¼ëª… ì´ìŠˆ ë°œìƒ ì‹œ ë‹¤ì–‘í•œ ì»¬ëŸ¼ëª… ì²´í¬/ì˜ˆì™¸ì²˜ë¦¬ ì½”ë“œ ìœ ì§€ í•„ìš”
- ì‹ ê·œ ìƒìž¥ì£¼/ê±°ëž˜ì •ì§€ì£¼ ë“± íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ëŠ” ì¡´ìž¬í•˜ëŠ” ë°ì´í„°ë§Œ ì €ìž¥, ëˆ„ë½/ì˜¤ë¥˜ëŠ” ë¬´ì‹œ(ìš´ì˜ ì¤‘ë‹¨ ë°©ì§€)
- pykrx API ìž¥ì• /ì§€ì—° ì‹œ ë¶€ë¶„ ì €ìž¥/ìž¬ì‹œë„ ê°€ëŠ¥, ê¸°ì¡´ ë°ì´í„° ì˜¤ì—¼ ì—†ìŒ
- íŒŒìƒì§€í‘œ(60ì¼ ì €ì , 5ì¼ í‰ê·  ê±°ëž˜ëŒ€ê¸ˆ) ë° ì €ì ë°˜ë“±ì£¼ ì¶”ì¶œ íŒŒì´í”„ë¼ì¸ê³¼ ì—°ë™í•˜ì—¬ ì‹¤ì „ ë°ì´í„° í’ˆì§ˆ ë³´ìž¥
- ëª¨ë“  ë³€ê²½/ìš´ì˜ ì´ë ¥ì€ SSOT.md ë° changelog.mdì— ì¦‰ì‹œ ê¸°ë¡

## ì—°ê´€ íŒŒì´í”„ë¼ì¸/ë¶„ì„
- fill_missing_history()ë¡œ ë³´ì¶©ëœ ë°ì´í„°ëŠ” ì €ì ë°˜ë“±ì£¼, íŒŒìƒì§€í‘œ, ì—…ì¢…/í…Œë§ˆ ë¶„ì„ ë“± ì‹¤ì „ ìžë™í™” íŒŒì´í”„ë¼ì¸ ì „ì²´ì— ì¦‰ì‹œ ë°˜ì˜ë¨
- ì‹¤ì „ ë°ì´í„° í’ˆì§ˆ/ìš´ì˜ ì•ˆì „ì„±/í™•ìž¥ì„± ëª¨ë‘ ê°•í™”

---

## 5. ëª¨ë©˜í…€ ë¶„ì„ ì‹œìŠ¤í…œ (2025-06-20 ì¶”ê°€)

### 5.1 ì£¼ìš” ê¸°ëŠ¥ ë° ì—­í• 
- **ëª©ì **: `invest_report.md`ì— ë”°ë¼ ì—…ì¢…/í…Œë§ˆì˜ ëª¨ë©˜í…€ì„ ë¶„ì„í•˜ê³ , íˆ¬ìž íŒë‹¨ì— í•„ìš”í•œ ê°ê´€ì ì¸ ì§€í‘œë¥¼ ìƒì„±.
- **ì£¼ìš” ê¸°ëŠ¥**:
    - ì¼ë³„ ê°€ê²© ëª¨ë©˜í…€(1, 3, 5, 10ì¼ ìˆ˜ìµë¥ ) ê³„ì‚°.
    - ì¼ë³„ ê±°ëž˜ëŒ€ê¸ˆ ëª¨ë©˜í…€(1, 3, 5ì¼ ì¦ê°ë¥ ) ê³„ì‚°.
    - ë¶„ì„ ê²°ê³¼ë¥¼ `momentum_analysis` í…Œì´ë¸”ì— ì €ìž¥ ë° ìžë™ ê°±ì‹ .
- **ê¸°ëŒ€ íš¨ê³¼**: ë°ì´í„° ê¸°ë°˜ì˜ ê°•ì„¸/ì•½ì„¸ ì—…ì¢… ë° í…Œë§ˆ í•„í„°ë§, íˆ¬ìž ì „ëžµ ìˆ˜ë¦½ ì§€ì›.

### 5.2 ê´€ë ¨ íŒŒì¼ ë° DB ìœ„ì¹˜
- **í•µì‹¬ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸**: `src/analyzer/momentum_analyzer.py`
- **ì‹ ê·œ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ**: `db/schema_momentum.sql`
- **DB ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸**: `scripts/migrate_momentum_tables.py`
- **í•µì‹¬ ë°ì´í„°ë² ì´ìŠ¤**: `theme_industry.db`
    - **ë¶„ì„ ëŒ€ìƒ í…Œì´ë¸”**: `theme_daily_performance`, `industry_daily_performance`
    - **ê²°ê³¼ ì €ìž¥ í…Œì´ë¸”**: `momentum_analysis`

### 5.3 ê°œë°œ ì¤‘ ë°œìƒí•œ ë¬¸ì œ ë° í•´ê²° ê³¼ì • (Trial & Error)

1.  **ë¬¸ì œ: ë°ì´í„° ìœ„ì¹˜ í˜¼ë™**
    - **ì›ì¸**: ì´ˆê¸°ì—ëŠ” ë¶„ì„ ëŒ€ìƒ ë°ì´í„°(`theme_daily_performance`)ê°€ `stock_master.db`ì— ìžˆëŠ” ê²ƒìœ¼ë¡œ ì°©ê°í•˜ì—¬ ì ‘ê·¼í–ˆìœ¼ë‚˜, ì‹¤ì œ ë°ì´í„°ëŠ” `theme_industry.db`ì— ì¡´ìž¬í–ˆìŒ.
    - **í•´ê²°**: ê°œë°œ ì°©ìˆ˜ ì „, `sqlite3` CLIë¥¼ í†µí•´ ê° DBì˜ í…Œì´ë¸” ëª©ë¡ê³¼ ìƒ˜í”Œ ë°ì´í„°ë¥¼ ì§ì ‘ ì¡°íšŒí•˜ì—¬ ë°ì´í„°ì˜ ì •í™•í•œ ìœ„ì¹˜ë¥¼ ëª…í™•ížˆ íŒŒì•…í•¨. **ëª¨ë“  ê´€ë ¨ ìž‘ì—…ì€ `theme_industry.db` í•˜ë‚˜ë¡œ í†µì¼.**

2.  **ë¬¸ì œ: DB ìŠ¤í‚¤ë§ˆ ë¶ˆì¼ì¹˜ (`AttributeError: no such column`)**
    - **ì›ì¸**: ë¶„ì„ ì½”ë“œì—ì„œ 'í…Œë§ˆ'ì™€ 'ì—…ì¢…' IDë¥¼ `target_id`ë¼ëŠ” ê³µí†µ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ì¡°íšŒí–ˆìœ¼ë‚˜, ì‹¤ì œ í…Œì´ë¸”ì—ëŠ” ê°ê° `theme_id`, `industry_id`ë¡œ ì €ìž¥ë˜ì–´ ìžˆì—ˆìŒ.
    - **í•´ê²°**: `target_type` íŒŒë¼ë¯¸í„°ì— ë”°ë¼ `theme_id` ë˜ëŠ” `industry_id`ë¥¼ ë™ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë„ë¡ ì¿¼ë¦¬ë¥¼ ìˆ˜ì •í•¨. ì¡°íšŒ í›„ì—ëŠ” Pandas DataFrame ë‚´ì—ì„œ ì»¬ëŸ¼ëª…ì„ `target_id`ë¡œ ì¼ê´€ì„± ìžˆê²Œ í†µì¼í•˜ì—¬ í›„ì† ë¶„ì„ ë¡œì§ì˜ íŽ¸ì˜ì„±ì„ ë†’ìž„.

3.  **ë¬¸ì œ: DB ì €ìž¥ ì‹œ ë°ì´í„° ê¹¨ì§ (Binary Data Corruption)**
    - **ì›ì¸**: Pandas DataFrameì„ `executemany`ë¡œ ì €ìž¥í•˜ëŠ” ê³¼ì •ì—ì„œ, NumPyì˜ ìˆ«ìž íƒ€ìž…(`numpy.int64` ë“±)ì´ SQLiteê°€ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ë°”ì´ë„ˆë¦¬(BLOB) í˜•íƒœë¡œ ë³€í™˜ë˜ì–´ ì €ìž¥ë¨.
    - **1ì°¨ í•´ê²° ì‹œë„ (ì‹¤íŒ¨)**: `astype()`ìœ¼ë¡œ íŒŒì´ì¬ ë„¤ì´í‹°ë¸Œ íƒ€ìž… ë³€í™˜ì„ ì‹œë„í–ˆìœ¼ë‚˜, `NaN` ê°’ ë“±ì´ ì„žì—¬ìžˆì–´ ì²˜ë¦¬ê°€ ë³µìž¡í•˜ê³  ì‹¤íŒ¨í•¨.
    - **ìµœì¢… í•´ê²°**: **'ì„  ì‚­ì œ, í›„ ì¶”ê°€ (DELETE then INSERT)'** ì „ëžµìœ¼ë¡œ ë³€ê²½. Pandasì˜ ë‚´ìž¥ `to_sql()` ë©”ì„œë“œëŠ” ë°ì´í„° íƒ€ìž… ì²˜ë¦¬ê°€ ìš°ìˆ˜í•˜ë¯€ë¡œ ì´ë¥¼ í™œìš©.
        1. ìƒˆë¡œ ë¶„ì„í•œ ë°ì´í„°ì— í•´ë‹¹í•˜ëŠ” ë‚ ì§œì˜ ê¸°ì¡´ ë ˆì½”ë“œë¥¼ `DELETE` ì¿¼ë¦¬ë¡œ ëª¨ë‘ ì‚­ì œ.
        2. `to_sql(if_exists='append')`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¹¨ë—í•œ ìƒíƒœì—ì„œ ìƒˆ ë°ì´í„°ë¥¼ ì¶”ê°€. ì´ ë°©ì‹ì´ í›¨ì”¬ ì•ˆì •ì ì´ê³  ê°„ê²°í•¨ì„ í™•ì¸í•¨.

### 5.4 ì‹œìŠ¤í…œ í™œìš©ë²•

1.  **ë¶„ì„ê¸° ì‹¤í–‰**:
    - í„°ë¯¸ë„ì—ì„œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™ í›„, ì•„ëž˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ìµœê·¼ 60ì¼ì¹˜ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ DBì— ì €ìž¥í•©ë‹ˆë‹¤.
    ```bash
    python -m src.analyzer.momentum_analyzer
    ```

2.  **ë¶„ì„ ê²°ê³¼ ì¡°íšŒ (ì˜ˆì‹œ)**:
    - DBì— ì €ìž¥ëœ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ í˜„ìž¬ ê°€ìž¥ ê°•ë ¥í•œ ëª¨ë©˜í…€ì„ ë³´ì´ëŠ” í…Œë§ˆ/ì—…ì¢…ì„ ì¡°íšŒí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
    - **ì˜ˆì‹œ: 1ì¼ ê¸°ì¤€ ê°€ìž¥ ê°•í•œ í…Œë§ˆ Top 5 ì¡°íšŒ**
    ```sql
    -- sqlite3 db/theme_industry.db
    SELECT
        m.target_id,
        tm.theme_name,
        m.price_momentum_1d,
        m.volume_momentum_1d
    FROM momentum_analysis m
    JOIN stock_master.theme_master tm ON m.target_id = tm.theme_id -- ë‹¤ë¥¸ DB í…Œì´ë¸”ê³¼ JOIN
    WHERE m.target_type = 'THEME'
      AND m.date = (SELECT MAX(date) FROM momentum_analysis)
      AND m.price_momentum_1d > 0
      AND m.volume_momentum_1d > 0
    ORDER BY m.price_momentum_1d DESC
    LIMIT 5;
    ```

---
